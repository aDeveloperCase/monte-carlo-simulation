(this["webpackJsonpmonte-carlo-forecasting"]=this["webpackJsonpmonte-carlo-forecasting"]||[]).push([[0],{161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(10),i=n.n(s),a=(n(34),n(35),n(5)),o=n(16),l=n(9),u=n(22),j=n(12),d=j.c,b=n(13),h=n.n(b),O=n(21),x=n(8);function f(e){var t=new Worker("/computeConfidenceIntervals.js");return t.postMessage(e),new Promise((function(e){t.onmessage=function(t){e(t.data)}}))}function p(e){var t=new Worker("/computePercentile.js");return t.postMessage(e),new Promise((function(e){t.onmessage=function(t){e(t.data)}}))}var m=Object(x.b)("forecast/getConfidenceIntervals",function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(x.b)("forecast/getPercentile",function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(x.c)({name:"forecast",initialState:{confidenceIntervals:[],confidenceIntervalsStatus:"init",percentile:[],percentileStatus:"init"},reducers:{},extraReducers:function(e){e.addCase(m.pending,(function(e){e.confidenceIntervalsStatus="loading"})).addCase(m.fulfilled,(function(e,t){e.confidenceIntervalsStatus="idle",e.confidenceIntervals=t.payload})).addCase(g.pending,(function(e){e.percentileStatus="loading"})).addCase(g.fulfilled,(function(e,t){e.percentileStatus="idle",e.percentile=t.payload}))}}),C=function(e){return e.forecast},S=v.reducer,w=n(3),y=a.Form.Field,I=a.Form.Label,k=a.Form.Control,B=a.Form.Help,z=a.Form.Input,T=(new Date).toISOString().substr(0,10);function D(){var e=Object(j.b)(),t=Object(c.useRef)(null),n=Object(c.useState)(1e6),r=Object(l.a)(n,2),s=r[0],i=r[1],d=Object(c.useState)(60),b=Object(l.a)(d,2),h=b[0],O=b[1],x=Object(c.useState)(0),f=Object(l.a)(x,2),p=f[0],v=f[1],C=Object(c.useState)(T),S=Object(l.a)(C,2),D=S[0],F=S[1],P=Object(c.useState)([1,2,3,1,0,2,2,3,2,3]),L=Object(l.a)(P,2),N=L[0],R=L[1];return Object(w.jsxs)(a.Columns,{children:[Object(w.jsxs)(a.Columns.Column,{size:6,children:[Object(w.jsxs)(y,{horizontal:!0,children:[Object(w.jsx)(y.Label,{children:Object(w.jsx)(I,{children:"Total Runs"})}),Object(w.jsx)(y.Body,{children:Object(w.jsxs)(y,{children:[Object(w.jsx)(k,{children:Object(w.jsx)(z,{placeholder:"Total Runs",type:"number",onChange:function(e){return i(parseInt(e.target.value)||0)},onFocus:function(e){return e.target.select()},value:s||""})}),Object(w.jsx)(B,{})]})})]}),Object(w.jsxs)(y,{horizontal:!0,children:[Object(w.jsx)(y.Label,{children:Object(w.jsx)(I,{children:"Tickets Target"})}),Object(w.jsx)(y.Body,{children:Object(w.jsx)(y,{children:Object(w.jsx)(k,{children:Object(w.jsx)(z,{placeholder:"Tickets Target",type:"number",onChange:function(e){return O(parseInt(e.target.value)||0)},onFocus:function(e){return e.target.select()},value:h||""})})})})]}),Object(w.jsxs)(y,{horizontal:!0,children:[Object(w.jsx)(y.Label,{children:Object(w.jsxs)(I,{children:["Tickets on day ",N.length+1]})}),Object(w.jsxs)(y.Body,{children:[Object(w.jsx)(y,{children:Object(w.jsx)(k,{children:Object(w.jsx)(z,{placeholder:"Number of Tickets",type:"number",onChange:function(e){return v(parseInt(e.target.value)||0)},onFocus:function(e){return e.target.select()},value:p||"",domRef:t})})}),Object(w.jsx)(a.Button,{onClick:function(){var e;R((function(e){return[].concat(Object(o.a)(e),[p])})),v(0),null===(e=t.current)||void 0===e||e.focus()},children:Object(w.jsx)(a.Icon,{children:Object(w.jsx)(u.a,{})})})]})]}),Object(w.jsxs)(y,{horizontal:!0,children:[Object(w.jsx)(y.Label,{children:Object(w.jsx)(I,{children:"Starting Date"})}),Object(w.jsx)(y.Body,{children:Object(w.jsx)(y,{children:Object(w.jsx)(k,{children:Object(w.jsx)(z,{placeholder:"Tickets Target",type:"date",onChange:function(e){return F(e.target.value)},value:D})})})})]}),Object(w.jsxs)(y,{horizontal:!0,children:[Object(w.jsx)(y.Label,{children:Object(w.jsx)(I,{})}),Object(w.jsx)(y.Body,{children:Object(w.jsx)(y,{children:Object(w.jsx)(k,{children:Object(w.jsx)(a.Button,{className:"is-pulled-right",onClick:function(){e(m({totalRuns:s,itemsTarget:h,throughputs:N,startingDate:D})).then((function(t){return e(g(t.payload))}))},children:"Compute"})})})})]})]}),Object(w.jsxs)(a.Columns.Column,{size:6,children:[Object(w.jsx)(a.Heading,{subtitle:!0,children:"Throughputs"}),N.map((function(e,t){return Object(w.jsxs)(a.Columns,{children:[Object(w.jsxs)(a.Columns.Column,{size:8,children:["Day ",t+1," - ",e]}),Object(w.jsx)(a.Columns.Column,{size:4,children:Object(w.jsx)(a.Button,{onClick:function(){return function(e){R((function(t){return t.filter((function(t,n){return e!==n}))}))}(t)},children:Object(w.jsx)(a.Icon,{children:Object(w.jsx)(u.b,{})})})})]},t)}))]})]})}var F=n(28);function P(){return Object(w.jsx)(a.Box,{className:"is-flex is-justify-content-center",children:Object(w.jsx)("div",{className:"loader"})})}function L(){var e=d(C);return"init"===e.confidenceIntervalsStatus?Object(w.jsx)(a.Box,{className:"is-flex is-justify-content-center",children:"Data will be shown here..."}):Object(w.jsxs)(a.Columns,{children:[Object(w.jsx)(a.Columns.Column,{size:6,children:"loading"===e.confidenceIntervalsStatus?Object(w.jsx)(P,{}):Object(w.jsxs)(a.Box,{children:[Object(w.jsx)(a.Heading,{subtitle:!0,children:"Confidence Intervals"}),Object(w.jsx)(F.a,{width:"100%",height:"400px",chartType:"Bar",loader:Object(w.jsx)("div",{children:"Loading Chart"}),data:[["Date","Value"]].concat(Object(o.a)(e.confidenceIntervals.map((function(e){return[new Date(parseInt(e[0])).toDateString(),e[1]]})))),options:{title:"Density of Precious Metals, in g/cm^3",height:400,bar:{groupWidth:"60%"},legend:{position:"none"}},rootProps:{"data-testid":"6"}})]})}),Object(w.jsx)(a.Columns.Column,{size:6,children:"loading"===e.percentileStatus||"loading"===e.confidenceIntervalsStatus?Object(w.jsx)(P,{}):Object(w.jsxs)(a.Box,{children:[Object(w.jsx)(a.Heading,{subtitle:!0,children:"Percentile"}),e.percentile.map((function(e,t){return Object(w.jsxs)(a.Columns,{children:[Object(w.jsxs)(a.Columns.Column,{size:3,children:["P",e.percentile,"%"]}),Object(w.jsxs)(a.Columns.Column,{size:9,children:[new Date(parseInt(e.timestamp)).toDateString()," (",e.sum," / ",e.totalRuns,")"]})]})}))]})})]})}n(161);var N=function(){return Object(w.jsxs)(a.Container,{className:"App",children:[Object(w.jsx)(a.Heading,{className:"has-text-centered",children:"Monte Carlo Simulation"}),Object(w.jsx)(L,{}),Object(w.jsx)(D,{})]})},R=Object(x.a)({reducer:{forecast:S}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(j.a,{store:R,children:Object(w.jsx)(N,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,n){}},[[162,1,2]]]);
//# sourceMappingURL=main.fe8f6f64.chunk.js.map