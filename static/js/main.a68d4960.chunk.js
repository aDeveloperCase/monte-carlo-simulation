(this["webpackJsonpmonte-carlo-forecasting"]=this["webpackJsonpmonte-carlo-forecasting"]||[]).push([[0],{161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(10),i=n.n(s),a=(n(34),n(35),n(5)),o=n(16),l=n(9),u=n(22),j=n(12),d=j.c,b=n(13),h=n.n(b),O=n(21),x=n(8);function f(e){var t=new Worker("/monte-carlo-simulation/computeConfidenceIntervals.js");return t.postMessage(e),new Promise((function(e){t.onmessage=function(t){e(t.data)}}))}function m(e){var t=new Worker("/monte-carlo-simulation/computePercentile.js");return t.postMessage(e),new Promise((function(e){t.onmessage=function(t){e(t.data)}}))}var p=Object(x.b)("forecast/getConfidenceIntervals",function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(x.b)("forecast/getPercentile",function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(x.c)({name:"forecast",initialState:{confidenceIntervals:[],confidenceIntervalsStatus:"init",percentile:[],percentileStatus:"init"},reducers:{},extraReducers:function(e){e.addCase(p.pending,(function(e){e.confidenceIntervalsStatus="loading"})).addCase(p.fulfilled,(function(e,t){e.confidenceIntervalsStatus="idle",e.confidenceIntervals=t.payload})).addCase(g.pending,(function(e){e.percentileStatus="loading"})).addCase(g.fulfilled,(function(e,t){e.percentileStatus="idle",e.percentile=t.payload}))}}),C=function(e){return e.forecast},S=v.reducer,I=n(3),w=a.Form.Field,y=a.Form.Label,k=a.Form.Control,B=a.Form.Help,z=a.Form.Input,T=(new Date).toISOString().substr(0,10);function D(){var e=Object(j.b)(),t=d(C),n=Object(c.useRef)(null),r=Object(c.useState)(1e6),s=Object(l.a)(r,2),i=s[0],b=s[1],h=Object(c.useState)(60),O=Object(l.a)(h,2),x=O[0],f=O[1],m=Object(c.useState)(0),v=Object(l.a)(m,2),S=v[0],D=v[1],F=Object(c.useState)(T),P=Object(l.a)(F,2),L=P[0],N=P[1],R=Object(c.useState)([1,2,3,1,0,2,2,3,2,3]),H=Object(l.a)(R,2),M=H[0],W=H[1];return Object(I.jsxs)(a.Columns,{children:[Object(I.jsxs)(a.Columns.Column,{size:6,children:[Object(I.jsxs)(w,{horizontal:!0,children:[Object(I.jsx)(w.Label,{children:Object(I.jsx)(y,{children:"Total Runs"})}),Object(I.jsx)(w.Body,{children:Object(I.jsxs)(w,{children:[Object(I.jsx)(k,{children:Object(I.jsx)(z,{placeholder:"Total Runs",type:"number",onChange:function(e){return b(parseInt(e.target.value)||0)},onFocus:function(e){return e.target.select()},value:i||""})}),Object(I.jsx)(B,{})]})})]}),Object(I.jsxs)(w,{horizontal:!0,children:[Object(I.jsx)(w.Label,{children:Object(I.jsx)(y,{children:"Tickets Target"})}),Object(I.jsx)(w.Body,{children:Object(I.jsx)(w,{children:Object(I.jsx)(k,{children:Object(I.jsx)(z,{placeholder:"Tickets Target",type:"number",onChange:function(e){return f(parseInt(e.target.value)||0)},onFocus:function(e){return e.target.select()},value:x||""})})})})]}),Object(I.jsxs)(w,{horizontal:!0,children:[Object(I.jsx)(w.Label,{children:Object(I.jsxs)(y,{children:["Tickets on day ",M.length+1]})}),Object(I.jsxs)(w.Body,{children:[Object(I.jsx)(w,{children:Object(I.jsx)(k,{children:Object(I.jsx)(z,{placeholder:"Number of Tickets",type:"number",onChange:function(e){return D(parseInt(e.target.value)||0)},onFocus:function(e){return e.target.select()},value:S||"",domRef:n})})}),Object(I.jsx)(a.Button,{onClick:function(){var e;W((function(e){return[].concat(Object(o.a)(e),[S])})),D(0),null===(e=n.current)||void 0===e||e.focus()},children:Object(I.jsx)(a.Icon,{children:Object(I.jsx)(u.a,{})})})]})]}),Object(I.jsxs)(w,{horizontal:!0,children:[Object(I.jsx)(w.Label,{children:Object(I.jsx)(y,{children:"Starting Date"})}),Object(I.jsx)(w.Body,{children:Object(I.jsx)(w,{children:Object(I.jsx)(k,{children:Object(I.jsx)(z,{placeholder:"Tickets Target",type:"date",onChange:function(e){return N(e.target.value)},value:L})})})})]}),Object(I.jsxs)(w,{horizontal:!0,children:[Object(I.jsx)(w.Label,{children:Object(I.jsx)(y,{})}),Object(I.jsx)(w.Body,{children:Object(I.jsx)(w,{children:Object(I.jsx)(k,{children:Object(I.jsx)(a.Button,{className:"is-pulled-right",disabled:"loading"===t.percentileStatus||"loading"===t.confidenceIntervalsStatus,onClick:function(){e(p({totalRuns:i,itemsTarget:x,throughputs:M,startingDate:L})).then((function(t){return e(g(t.payload))}))},children:"Compute"})})})})]})]}),Object(I.jsxs)(a.Columns.Column,{size:6,children:[Object(I.jsx)(a.Heading,{subtitle:!0,children:"Throughputs"}),M.map((function(e,t){return Object(I.jsxs)(a.Columns,{children:[Object(I.jsxs)(a.Columns.Column,{size:8,children:["Day ",t+1," - ",e]}),Object(I.jsx)(a.Columns.Column,{size:4,children:Object(I.jsx)(a.Button,{onClick:function(){return function(e){W((function(t){return t.filter((function(t,n){return e!==n}))}))}(t)},children:Object(I.jsx)(a.Icon,{children:Object(I.jsx)(u.b,{})})})})]},t)}))]})]})}var F=n(28);function P(){return Object(I.jsx)(a.Box,{className:"is-flex is-justify-content-center",children:Object(I.jsx)("div",{className:"loader"})})}function L(){var e=d(C);return"init"===e.confidenceIntervalsStatus?Object(I.jsx)(a.Box,{className:"is-flex is-justify-content-center",children:"Data will be shown here..."}):Object(I.jsxs)(a.Columns,{children:[Object(I.jsx)(a.Columns.Column,{size:6,children:"loading"===e.confidenceIntervalsStatus?Object(I.jsx)(P,{}):Object(I.jsxs)(a.Box,{children:[Object(I.jsx)(a.Heading,{subtitle:!0,children:"Confidence Intervals"}),Object(I.jsx)(F.a,{width:"100%",height:"400px",chartType:"Bar",loader:Object(I.jsx)("div",{children:"Loading Chart"}),data:[["Date","Value"]].concat(Object(o.a)(e.confidenceIntervals.map((function(e){return[new Date(parseInt(e[0])).toDateString(),e[1]]})))),options:{title:"Density of Precious Metals, in g/cm^3",height:400,bar:{groupWidth:"60%"},legend:{position:"none"}},rootProps:{"data-testid":"6"}})]})}),Object(I.jsx)(a.Columns.Column,{size:6,children:"loading"===e.percentileStatus||"loading"===e.confidenceIntervalsStatus?Object(I.jsx)(P,{}):Object(I.jsxs)(a.Box,{children:[Object(I.jsx)(a.Heading,{subtitle:!0,children:"Percentile"}),e.percentile.map((function(e){return Object(I.jsxs)(a.Columns,{children:[Object(I.jsxs)(a.Columns.Column,{size:3,children:["P",e.percentile,"%"]}),Object(I.jsxs)(a.Columns.Column,{size:9,children:[new Date(parseInt(e.timestamp)).toDateString()," (",e.sum," / ",e.totalRuns,")"]})]},e.timestamp)}))]})})]})}n(161);var N=function(){return Object(I.jsxs)(a.Container,{className:"App",children:[Object(I.jsx)(a.Heading,{className:"has-text-centered",children:"Monte Carlo Simulation"}),Object(I.jsx)(L,{}),Object(I.jsx)(D,{})]})},R=Object(x.a)({reducer:{forecast:S}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(j.a,{store:R,children:Object(I.jsx)(N,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,n){}},[[162,1,2]]]);
//# sourceMappingURL=main.a68d4960.chunk.js.map